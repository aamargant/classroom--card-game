(this["webpackJsonpclassroom--card-game"]=this["webpackJsonpclassroom--card-game"]||[]).push([[0],[,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));var r="view/SET_VIEW";function a(e){return{type:r,view:e}}function u(e){return e.view}var i=n(8),c=n(1),o=n(2),s=n(5),l=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,[{key:"reduce",value:function(e,t){switch(e.view||(e=Object(s.b)(e,"view",{root:"Main"})),t.type){case r:return Object(s.a)(e,"view",t.view);default:return e}}}]),e}();function d(e){e.register(i.a,l)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),a=n(2),u=function(){function e(){throw Object(r.a)(this,e),new Error("Cannot instantiate an interface")}return Object(a.a)(e,[{key:"reduce",value:function(e,t){throw new Error("Cannot call an abstract method")}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(1),a=n(2),u=n(31),i=n(85),c=n(12),o=n(8),s="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.c,l=function(){function e(t){var n=this;Object(r.a)(this,e),this.store=void 0,this.injector=void 0,this.reducers=null,this.afterActions=null,this.injector=t,this.store=Object(u.d)((function(e,t){return n.reduce(e,t)}),s(Object(u.a)(i.a,(function(){return function(e){return function(t){return n.afterAction(e,t)}}}))))}return Object(a.a)(e,[{key:"afterAction",value:function(e,t){e(t),null==this.afterActions&&(this.afterActions=this.injector.list(c.a)),this.afterActions.forEach((function(e){return e.afterAction(t)}))}},{key:"reduce",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;null==this.reducers&&(this.reducers=this.injector.list(o.a));var n=this.reducers.reduce((function(e,n){return n.reduce(e,t)}),e);return n}},{key:"getStore",value:function(){return this.store}},{key:"getState",value:function(){return this.store.getState()}},{key:"dispatch",value:function(e){this.store.dispatch(e)}},{key:"select",value:function(e){return e(this.getState())}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d}));function r(){return{type:"loading/DECREMENT_LOADING"}}function a(){return{type:"loading/INCREMENT_LOADING"}}function u(e){return e.loading>0}var i=n(8),c=n(1),o=n(2),s=n(5),l=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,[{key:"reduce",value:function(e,t){switch(null==e.loading&&(e=Object(s.b)(e,"loading",0)),t.type){case"loading/INCREMENT_LOADING":return e=Object(s.b)(e,"loading",e.loading+1);case"loading/DECREMENT_LOADING":return Object(s.b)(e,"loading",e.loading-1);default:return e}}}]),e}();function d(e){e.register(i.a,l)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(3),a=n.n(r),u=n(13),i=n(6),c=n(1),o=n(2),s=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,[{key:"get",value:function(){var e=Object(i.a)(a.a.mark((function e(t,n){var r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,Object(u.a)({method:"GET",headers:Object(u.a)({"Content-Type":"application/json; charset=utf-8"},n&&n.headers)},n));case 2:return r=e.sent,e.next=5,r.json();case 5:if(i=e.sent,r.ok){e.next=8;break}return e.abrupt("return",Promise.reject({status:r.status,data:i}));case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(i.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get(t,Object(u.a)({method:"PUT",body:JSON.stringify(n)},r)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(i.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get(t,Object(u.a)({method:"POST",body:JSON.stringify(n)},r)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(i.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get(t,Object(u.a)({method:"DELETE"},n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),a=n(2),u=function(){function e(){throw Object(r.a)(this,e),new Error("Cannot instantiate an interface")}return Object(a.a)(e,[{key:"afterAction",value:function(e){throw new Error("Cannot call an abstract method")}}]),e}()},,function(e,t,n){"use strict";var r=n(60);n.o(r,"listPileCards")&&n.d(t,"listPileCards",(function(){return r.listPileCards})),n.o(r,"listPlays")&&n.d(t,"listPlays",(function(){return r.listPlays})),n.o(r,"listSquareCards")&&n.d(t,"listSquareCards",(function(){return r.listSquareCards})),n.o(r,"playCardIntoPile")&&n.d(t,"playCardIntoPile",(function(){return r.playCardIntoPile})),n.o(r,"replaceCards")&&n.d(t,"replaceCards",(function(){return r.replaceCards}));var a=n(61);n.o(a,"listPileCards")&&n.d(t,"listPileCards",(function(){return a.listPileCards})),n.o(a,"listPlays")&&n.d(t,"listPlays",(function(){return a.listPlays})),n.o(a,"listSquareCards")&&n.d(t,"listSquareCards",(function(){return a.listSquareCards})),n.o(a,"playCardIntoPile")&&n.d(t,"playCardIntoPile",(function(){return a.playCardIntoPile})),n.o(a,"replaceCards")&&n.d(t,"replaceCards",(function(){return a.replaceCards}));var u=n(62);n.o(u,"listPileCards")&&n.d(t,"listPileCards",(function(){return u.listPileCards})),n.o(u,"listPlays")&&n.d(t,"listPlays",(function(){return u.listPlays})),n.o(u,"listSquareCards")&&n.d(t,"listSquareCards",(function(){return u.listSquareCards})),n.o(u,"playCardIntoPile")&&n.d(t,"playCardIntoPile",(function(){return u.playCardIntoPile})),n.o(u,"replaceCards")&&n.d(t,"replaceCards",(function(){return u.replaceCards}));var i=n(63);n.o(i,"listPileCards")&&n.d(t,"listPileCards",(function(){return i.listPileCards})),n.o(i,"listPlays")&&n.d(t,"listPlays",(function(){return i.listPlays})),n.o(i,"listSquareCards")&&n.d(t,"listSquareCards",(function(){return i.listSquareCards})),n.o(i,"playCardIntoPile")&&n.d(t,"playCardIntoPile",(function(){return i.playCardIntoPile})),n.o(i,"replaceCards")&&n.d(t,"replaceCards",(function(){return i.replaceCards}));var c=n(64);n.o(c,"listPileCards")&&n.d(t,"listPileCards",(function(){return c.listPileCards})),n.o(c,"listPlays")&&n.d(t,"listPlays",(function(){return c.listPlays})),n.o(c,"listSquareCards")&&n.d(t,"listSquareCards",(function(){return c.listSquareCards})),n.o(c,"playCardIntoPile")&&n.d(t,"playCardIntoPile",(function(){return c.playCardIntoPile})),n.o(c,"replaceCards")&&n.d(t,"replaceCards",(function(){return c.replaceCards}));var o=n(65);n.d(t,"listPileCards",(function(){return o.a}));var s=n(66);n.d(t,"listSquareCards",(function(){return s.a}));var l=n(67);n.d(t,"listPlays",(function(){return l.a}));var d=n(40);n.d(t,"playCardIntoPile",(function(){return d.b}));var f=n(41);n.d(t,"replaceCards",(function(){return f.b}));var b=n(83);n.d(t,"default",(function(){return b.a}))},,,,function(e,t,n){"use strict";var r=n(23);n.d(t,"enterGame",(function(){return r.b}));var a=n(57);n.o(a,"getGameRound")&&n.d(t,"getGameRound",(function(){return a.getGameRound})),n.o(a,"listPlayers")&&n.d(t,"listPlayers",(function(){return a.listPlayers})),n.o(a,"readyGame")&&n.d(t,"readyGame",(function(){return a.readyGame})),n.o(a,"refreshGame")&&n.d(t,"refreshGame",(function(){return a.refreshGame}));n(24);var u=n(58);n.d(t,"getGameRound",(function(){return u.a}));var i=n(59);n.d(t,"listPlayers",(function(){return i.a}));var c=n(38);n.d(t,"readyGame",(function(){return c.b}));var o=n(39);n.d(t,"refreshGame",(function(){return o.b}));n(19);var s=n(80);n.d(t,"default",(function(){return s.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="game/REPLACE_GAME";function a(e){return{type:r,game:e}}},function(e,t,n){"use strict";function r(e){return e.currentUser.name}n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return l}));function a(e){return{type:"currentUser/REPLACE_CURRENT_USER",name:e}}var u=n(8),i=n(1),c=n(2),o=n(5),s=function(){function e(){Object(i.a)(this,e)}return Object(c.a)(e,[{key:"reduce",value:function(e,t){switch(e.currentUser||(e=Object(o.b)(e,"currentUser",{name:null})),t.type){case"currentUser/REPLACE_CURRENT_USER":return Object(o.b)(e,"currentUser.name",t.name);default:return e}}}]),e}();function l(e){e.register(u.a,s)}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="game/ENTER_GAME";function a(e){return{type:r,body:e}}},function(e,t,n){"use strict";function r(e){return e.game.gameName}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="selectedCard/DESELECT_CARD";function a(){return{type:r}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="blog/REPLACE_CURRENT_POST";function a(e){return{type:r,currentPost:e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="blog/REPLACE_POST_LIST";function a(e){return{type:r,list:e}}},function(e,t,n){"use strict";n(25),n(42);var r=n(43);n.d(t,"playSelectedCard",(function(){return r.b}));var a=n(44);n.d(t,"selectCard",(function(){return a.b}));n(68);var u=n(81);n.d(t,"default",(function(){return u.a}))},function(e,t,n){"use strict";var r=n(69);n.o(r,"getCurrentPost")&&n.d(t,"getCurrentPost",(function(){return r.getCurrentPost})),n.o(r,"getPostList")&&n.d(t,"getPostList",(function(){return r.getPostList}));var a=n(70);n.d(t,"getCurrentPost",(function(){return a.a}));var u=n(71);n.d(t,"getPostList",(function(){return u.a}));n(26),n(27);var i=n(82);n.d(t,"default",(function(){return i.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return h}));var r="newGame/NEW_GAME";function a(e){return{type:r,body:e}}var u=n(12),i=n(3),c=n.n(i),o=n(6),s=n(1),l=n(2),d=n(11),f=n(10),b=n(9),p=n(7),m=function(){function e(t){Object(s.a)(this,e),this.apiRest=void 0,this.reduxStore=void 0,this.apiRest=t.get(d.a),this.reduxStore=t.get(b.a)}return Object(l.a)(e,[{key:"afterAction",value:function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type===r){e.next=2;break}return e.abrupt("return");case 2:return this.reduxStore.dispatch(Object(f.c)()),e.next=5,this.apiRest.post("/api/v1/games",t.body);case 5:this.reduxStore.dispatch(Object(p.d)({root:"Main"})),this.reduxStore.dispatch(Object(f.a)());case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function h(e){e.register(u.a,m)}},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="game/READY_GAME";function a(){return{type:r}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="game/REFRESH_GAME";function a(){return{type:r}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="cards/PLAY_CARD_INTO_PILE";function a(e,t){return{type:r,card:e,pile:t}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return i}));var r=n(13),a=1,u="cards/REPLACE_CARDS";function i(e){return{type:u,cards:e.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{id:a++})}))}}},function(e,t,n){"use strict";function r(e){return e.selectedCard.card||null}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="selectedCard/PLAY_SELECTED_CARD";function a(e){return{type:r,pile:e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="selectedCard/SELECT_CARD";function a(e){return{type:r,card:e}}},,,,,,,,,,,,,function(e,t){},function(e,t,n){"use strict";function r(e){var t;return null===(t=e.game)||void 0===t?void 0:t.round}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=null,a=null;function u(e){return e.game===r?a:(r=e.game,a=Object.keys(r.players))}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=[];function a(e,t){var n,a=t.pile;return(null===(n=e.cards.piles[a])||void 0===n?void 0:n.cards)||r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=[];function a(e,t){var n,a=t.player,u=t.square;return(null===(n=e.cards.players[a].squares[u])||void 0===n?void 0:n.cards)||r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(47);function a(e,t){return e<t?-1:e>t?1:0}var u=null,i=[];function c(e){return e.cards.piles===u?i:(u=e.cards.piles,i=Object.values(e.cards.piles).flatMap((function(e){return e.cards})).map((function(e){e.id;return Object(r.a)(e,["id"])})).sort((function(e,t){return e.ownerName!==t.ownerName?a(e.ownerName,t.ownerName):e.pile!==t.pile?a(e.pile,t.pile):e.square!==t.square?a(e.square,t.square):e.type!==t.type?a(e.type,t.type):a(e.name,t.name)})))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e){return e.blog.currentPost}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return e.blog.list}n.d(t,"a",(function(){return r}))},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r=n(12),a=n(8),u=n(13),i=n(47),c=n(1),o=n(2),s=n(5),l=n(19),d=n(30),f=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,[{key:"reduce",value:function(e,t){switch(void 0===e.game&&(e=Object(s.b)(e,"game",null)),t.type){case l.a:var n=t.game,r=(n.cards,Object(i.a)(n,["cards"]));return Object(s.a)(e,"game",r);case d.a:return Object(u.a)(Object(u.a)({},e),{},{game:{gameName:t.body.gameName}});default:return e}}}]),e}(),b=n(3),p=n.n(b),m=n(6),h=n(11),v=n(10),g=n(9),y=n(7),O=n(23),j=function(){function e(t){Object(c.a)(this,e),this.reduxStore=void 0,this.apiRest=void 0,this.apiRest=t.get(h.a),this.reduxStore=t.get(g.a)}return Object(o.a)(e,[{key:"afterAction",value:function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type===O.a){e.next=2;break}return e.abrupt("return");case 2:return this.reduxStore.dispatch(Object(v.c)()),e.next=5,this.apiRest.get("/api/v1/games/".concat(t.body.gameName,"/players/").concat(t.body.playerName));case 5:n=e.sent,this.reduxStore.dispatch(Object(l.b)(n)),this.reduxStore.dispatch(Object(y.d)({root:"Board"})),this.reduxStore.dispatch(Object(v.a)());case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),E=n(14),C=n(20),w=n(24),k=n(38),x=function(){function e(t){Object(c.a)(this,e),this.reduxStore=void 0,this.apiRest=void 0,this.apiRest=t.get(h.a),this.reduxStore=t.get(g.a)}return Object(o.a)(e,[{key:"afterAction",value:function(){var e=Object(m.a)(p.a.mark((function e(t){var n,r,a,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type===k.a){e.next=2;break}return e.abrupt("return");case 2:return n=this.reduxStore.select(w.a),r=this.reduxStore.select(C.b),a=this.reduxStore.select(E.listPlays),this.reduxStore.dispatch(Object(v.c)()),e.next=8,this.apiRest.put("/api/v1/games/".concat(n,"/players/").concat(r,"/ready"),{cards:a,playerName:r});case 8:u=e.sent,this.reduxStore.dispatch(Object(l.b)(u)),this.reduxStore.dispatch(Object(y.d)({root:"Board"})),this.reduxStore.dispatch(Object(v.a)());case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),P=n(39),S=function(){function e(t){Object(c.a)(this,e),this.reduxStore=void 0,this.apiRest=void 0,this.apiRest=t.get(h.a),this.reduxStore=t.get(g.a)}return Object(o.a)(e,[{key:"afterAction",value:function(){var e=Object(m.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type===P.a){e.next=2;break}return e.abrupt("return");case 2:n=this.reduxStore.select(w.a),r=this.reduxStore.select(C.b),this.reduxStore.dispatch(Object(O.b)({gameName:n,playerName:r}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),R=function(){function e(t){Object(c.a)(this,e),this.reduxStore=void 0,this.apiRest=void 0,this.apiRest=t.get(h.a),this.reduxStore=t.get(g.a)}return Object(o.a)(e,[{key:"afterAction",value:function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type===l.a){e.next=2;break}return e.abrupt("return");case 2:n=t.game,this.reduxStore.dispatch(Object(C.c)(n.currentPlayerName)),this.reduxStore.dispatch(Object(E.replaceCards)(n.cards));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function N(e){e.register(a.a,f),e.register(r.a,j),e.register(r.a,x),e.register(r.a,S),e.register(r.a,R)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(12),a=n(8),u=n(1),i=n(2),c=n(5),o=n(25),s=n(44),l=function(){function e(){Object(u.a)(this,e)}return Object(i.a)(e,[{key:"reduce",value:function(e,t){switch(e.selectedCard||(e=Object(c.b)(e,"selectedCard",{card:null})),t.type){case s.a:return Object(c.b)(e,"selectedCard.card",t.card);case o.a:return Object(c.b)(e,"selectedCard.card",null);default:return e}}}]),e}(),d=n(3),f=n.n(d),b=n(6),p=n(9),m=n(42),h=n(43),v=n(14),g=function(){function e(t){Object(u.a)(this,e),this.reduxStore=void 0,this.reduxStore=t.get(p.a)}return Object(i.a)(e,[{key:"afterAction",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type===h.a){e.next=2;break}return e.abrupt("return");case 2:n=this.reduxStore.select(m.a),this.reduxStore.dispatch(Object(o.b)()),this.reduxStore.dispatch(Object(v.playCardIntoPile)(n,t.pile));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function y(e){e.register(a.a,l),e.register(r.a,g)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(12),a=n(8),u=n(1),i=n(2),c=n(5),o=n(26),s=n(27),l=function(){function e(){Object(u.a)(this,e)}return Object(i.a)(e,[{key:"reduce",value:function(e,t){switch(e.blog||(e=Object(c.b)(e,"blog",{list:[],currentPost:null})),t.type){case o.a:return Object(c.b)(e,"blog.currentPost",t.currentPost);case s.a:return Object(c.b)(e,"blog.list",t.list);default:return e}}}]),e}(),d=n(3),f=n.n(d),b=n(6),p=n(11),m=n(10),h=n(9),v=n(7),g=function(){function e(t){Object(u.a)(this,e),this.reduxStore=void 0,this.apiRest=void 0,this.apiRest=t.get(p.a),this.reduxStore=t.get(h.a)}return Object(i.a)(e,[{key:"afterAction",value:function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type===v.a){e.next=2;break}return e.abrupt("return");case 2:e.t0=t.view.root,e.next="Blog"===e.t0?5:"BlogPost"===e.t0?8:11;break;case 5:return e.next=7,this.loadPostList();case 7:return e.abrupt("break",11);case 8:return e.next=10,this.loadPost(t.view.postId);case 10:return e.abrupt("break",11);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadPostList",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.reduxStore.dispatch(Object(m.c)()),e.next=3,this.apiRest.get("/api/v1/posts");case 3:t=e.sent,n=t.list,this.reduxStore.dispatch(Object(s.b)(n)),this.reduxStore.dispatch(Object(m.a)());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadPost",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.reduxStore.dispatch(Object(m.c)()),e.next=3,this.apiRest.get("/api/v1/posts/".concat(t));case 3:n=e.sent,this.reduxStore.dispatch(Object(o.b)(n)),this.reduxStore.dispatch(Object(m.a)());case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function y(e){e.register(a.a,l),e.register(r.a,g)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(32),a=n(13),u=n(1),i=n(2),c=n(5),o=n(45),s=n(41),l=n(40),d=function(){function e(){Object(u.a)(this,e)}return Object(i.a)(e,[{key:"reduce",value:function(e,t){switch(null==e.cards&&(e=Object(c.b)(e,"cards",null)),t.type){case s.a:return Object(c.b)(e,"cards",function(e,t){var n={players:{},piles:{}};return e.forEach((function(e){return function(e,t,n){if(!e.ownerName)return;var r=f(e,t);Object(o.push)(n,r,e)}(e,t,n)})),n}(t.cards,e.game.currentPlayerName));case l.a:return function(e,t,n){var u=t,i=Object(a.a)(Object(a.a)({},u),{},{pile:n}),o=["cards"].concat(Object(r.a)(f(u,t.ownerName))),s=["cards"].concat(Object(r.a)(f(i,t.ownerName)));return Object(c.c)(e).update(o,(function(e){return e.filter((function(e){return e!==u}))})).update(s,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[].concat(Object(r.a)(e),[i])})).value()}(e,t.card,t.pile);default:return e}}}]),e}();function f(e,t){var n=e.ownerName,r=e.square,a=e.pile;return e.pile&&e.ownerName===t?["piles",a,"cards"]:["players",n,"squares",+r,"cards"]}var b=n(8);function p(e){e.register(b.a,d)}},,,,,function(e,t,n){e.exports=n(178)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"ReduxAfterAction",(function(){return le.a})),n.d(t,"ReduxReducer",(function(){return de.a})),n.d(t,"ReduxStore",(function(){return fe.a})),n.d(t,"ApiRest",(function(){return o.a})),n.d(t,"AppRenderer",(function(){return pe}));var r=n(36),a=n.n(r),u=n(1),i=n(2),c=function(){function e(){Object(u.a)(this,e),this.symbols=new Map,this.instances=new Map,this.values=new Map}return Object(i.a)(e,[{key:"register",value:function(e,t){var n;this.symbols.has(e)||this.symbols.set(e,[]),null===(n=this.symbols.get(e))||void 0===n||n.push(t||e)}},{key:"set",value:function(e,t){this.values.set(e,t)}},{key:"get",value:function(e){if(!this.values.has(e)){var t=this.symbols.get(e);if(!t)throw new Error("No ".concat(e.name," registered in the injector. Please, make sure that you register it or you have configured its package."));var n=t[t.length-1],r=this.instance(n);this.values.set(e,r)}return this.values.get(e)}},{key:"list",value:function(e){var t=this;if(!this.values.has(e)){var n=this.symbols.get(e)||[],r=n.map((function(e){return t.instance(e)}));this.values.set(e,r)}return this.values.get(e)}},{key:"configure",value:function(e){return e(this),this}},{key:"instance",value:function(e){if(!this.instances.has(e)){var t=new e(this);this.instances.set(e,t)}return this.instances.get(e)}}]),e}(),o=n(11),s=n(0),l=n.n(s),d=n(4),f=n(18),b=n(15),p=n(16),m=n(14),h=n(28);function v(){var e=Object(b.a)(["\n  background: red;\n  height: 6rem;\n  width: 4.5rem;\n  border-radius: 10%;\n  margin-right: -3rem;\n  position: relative;\n  cursor: pointer;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n  border: solid black 1px;\n\n  &:hover {\n    z-index: 1000;\n  }\n\n  .type {\n    position: absolute;\n    top: 0.1rem;\n    right: 0.1rem;\n  }\n\n  .name {\n    font-size: 4rem;\n  }\n"]);return v=function(){return e},e}var g={food:"#EF5FA7",knight:"#EF5FA7",field:"#F8BA00",event:"#00A2FF"},y={food:"\ud83c\udf72",knight:"\ud83d\udc82",field:"\ud83c\udfe0",event:"\u26a1"},O={f1:"\ud83c\udf72",k1:"\ud83d\udc82",field:"\ud83c\udfe0",event:"\u26a1",forest:"\ud83c\udf32",grain:"\ud83c\udf3e",sheep:"\ud83d\udc11"},j=Object(p.a)(v());function E(e){var t=e.card,n=Object(d.b)();return l.a.createElement("div",{className:j,"data-testid":"card-".concat(t.type),"data-name":t.name,onClick:function(){return n(Object(h.selectCard)(t))},style:{background:g[t.type]}},l.a.createElement("div",{className:"type"},y[t.type]),l.a.createElement("div",{className:"name"},O[t.name]))}function C(e){var t=e.cards;return l.a.createElement(l.a.Fragment,null,t.map((function(e){return l.a.createElement(E,{card:e,key:e.id})})))}function w(){var e=Object(b.a)(["\n  background: blanchedalmond;\n  display: inline-block;\n  height: 6rem;\n  width: 40rem;\n  box-sizing: border-box;\n  color: white;\n  border: solid white 1px;\n  overflow: hidden;\n  white-space: nowrap;\n"]);return w=function(){return e},e}var k=Object(p.a)(w());function x(e){var t=e.player,n=Object(d.c)((function(e){return Object(m.listSquareCards)(e,{player:t,square:0})}));return l.a.createElement("div",{className:k,"data-testid":"".concat(t,"-hand")},l.a.createElement(C,{cards:n}))}function P(){var e=Object(b.a)(["\n  background: blueviolet;\n  display: inline-block;\n  height: 3rem;\n  width: 8rem;\n  box-sizing: border-box;\n  color: white;\n  border: solid white 1px;\n  text-align: center;\n  overflow: hidden;\n  white-space: nowrap;\n  cursor: pointer;\n"]);return P=function(){return e},e}var S=Object(p.a)(P());function R(e){var t=e.name,n=Object(d.b)(),r=Object(d.c)((function(e){return Object(m.listPileCards)(e,{pile:t})}));return l.a.createElement("div",{className:S,"data-testid":"pile-".concat(t),onClick:function(){return n(Object(h.playSelectedCard)(t))}},t,l.a.createElement(C,{cards:r}))}function N(){var e=Object(b.a)(["\n  background: burlywood;\n  display: inline-block;\n  height: 10rem;\n  width: 8rem;\n  box-sizing: border-box;\n  color: white;\n  border: solid white 1px;\n  overflow: hidden;\n  white-space: nowrap;\n"]);return N=function(){return e},e}var A=Object(p.a)(N());function q(e){var t=e.player,n=e.square,r=Object(d.c)((function(e){return Object(m.listSquareCards)(e,{player:t,square:n})}));return l.a.createElement("div",{className:A,"data-testid":"".concat(t,"-square-").concat(n)},l.a.createElement(R,{name:"".concat(t,"-square-").concat(n)}),l.a.createElement("br",null),l.a.createElement(C,{cards:r}))}function G(e){var t=e.player;return l.a.createElement("div",null,l.a.createElement(q,{player:t,square:1}),l.a.createElement(q,{player:t,square:2}),l.a.createElement(q,{player:t,square:3}),l.a.createElement(q,{player:t,square:4}),l.a.createElement(q,{player:t,square:5}))}function _(e){var t=e.player;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"Player: ",t),l.a.createElement(G,{player:t,key:t}),l.a.createElement(x,{player:t}),l.a.createElement("br",null))}function I(){var e=Object(b.a)(["\n  margin: 2rem auto;\n  max-width: 30rem;\n  font-size: 1.33rem;\n\n  input,\n  select {\n    font-size: 1.33rem;\n    background: rgba(255, 255, 255, 0.1);\n    border: none;\n    color: white;\n    border-bottom: solid white 0.1rem;\n    height: 1.5rem;\n    width: 100%;\n    margin: 0.5rem 0 1.33rem;\n  }\n"]);return I=function(){return e},e}var L=Object(p.a)(I());function T(e){var t=e.onSubmit,n=e.children;return l.a.createElement("form",{className:L,onSubmit:t},n)}var D=Object(s.forwardRef)((function(e,t){var n=e.name,r=e.label;return l.a.createElement("div",null,l.a.createElement("label",null,r,l.a.createElement("br",null),l.a.createElement("input",{name:n,ref:t})))})),M=Object(s.forwardRef)((function(e,t){var n=e.name,r=e.label,a=e.values;return l.a.createElement("div",null,l.a.createElement("label",null,r,l.a.createElement("br",null),l.a.createElement("select",{name:n,ref:t},a.map((function(e){return l.a.createElement("option",{value:e,key:e},e)})))))}));function z(){var e=Object(d.b)(),t=Object(s.useRef)(),n=Object(s.useRef)();return l.a.createElement(T,{onSubmit:function(r){r.preventDefault(),e(Object(f.enterGame)({gameName:t.current.value,playerName:n.current.value}))}},l.a.createElement(D,{ref:t,label:"New game name:"}),l.a.createElement(D,{ref:n,label:"Player name:"}),l.a.createElement("button",{type:"submit"},"Enter"))}var U=n(7),B=n(29);var V=n(86),F=n.n(V);function J(){var e=Object(b.a)(["\n  background: #ddd;\n  color: rgba(0, 0, 0, 0.8);\n  padding: 1.5rem;\n  max-width: 40rem;\n  margin: 3em auto;\n  background: linear-gradient(\n    45deg,\n    rgba(242, 246, 248, 1) 0%,\n    rgba(216, 225, 231, 1) 50%,\n    rgba(181, 198, 208, 1) 51%,\n    rgba(224, 239, 249, 1) 100%\n  );\n  p {\n    max-width: 30rem;\n  }\n  h1 {\n    margin-top: 0;\n    font-size: 5rem;\n    color: #000;\n  }\n  h1 + p {\n    font-size: 2rem;\n    color: rgba(0, 0, 0, 0.5);\n    max-width: none;\n    line-height: 1.1;\n    font-weight: 300;\n  }\n  h2 {\n    font-size: 3rem;\n    margin-top: 3rem;\n    border-bottom: solid 0.1em rgba(0, 0, 0, 0.8);\n    text-transform: uppercase;\n  }\n  h3 {\n    font-size: 2rem;\n    margin-top: 2rem;\n  }\n  blockquote {\n    background: black;\n    background: linear-gradient(\n      45deg,\n      rgba(76, 76, 76, 1) 0%,\n      rgba(89, 89, 89, 1) 12%,\n      rgba(102, 102, 102, 1) 25%,\n      rgba(71, 71, 71, 1) 39%,\n      rgba(44, 44, 44, 1) 50%,\n      rgba(0, 0, 0, 1) 51%,\n      rgba(17, 17, 17, 1) 60%,\n      rgba(43, 43, 43, 1) 76%,\n      rgba(28, 28, 28, 1) 91%,\n      rgba(19, 19, 19, 1) 100%\n    );\n    border-radius: 0.25rem;\n    color: rgba(255, 255, 255, 0.8);\n    border: none;\n    padding: 0.75rem 1.5rem;\n    max-width: 33rem;\n  }\n  blockquote p:last-child {\n    margin-bottom: 0;\n  }\n"]);return J=function(){return e},e}var Y=Object(p.a)(J());var H=n(32),W=n(87),X=n(30);function K(){var e=Object(d.b)(),t=Object(s.useRef)(),n=Object(s.useRef)(),r=Object(s.useState)([Object(s.createRef)()]),a=Object(W.a)(r,2),u=a[0],i=a[1];return l.a.createElement(T,{onSubmit:function(r){r.preventDefault(),e(Object(X.c)({gameName:t.current.value,scenario:n.current.value,players:u.map((function(e){return{name:e.current.value}}))}))}},l.a.createElement(D,{ref:t,label:"New game name:"}),l.a.createElement(M,{ref:n,name:"scenario",label:"Game scenario:",values:["Basic"]}),u.map((function(e,t){return l.a.createElement(D,{ref:e,label:"Player ".concat(t+1," name:"),key:t})})),l.a.createElement("button",{onClick:function(e){e.preventDefault(),i((function(e){return[].concat(Object(H.a)(e),[Object(s.createRef)()])}))}},"Add player"),l.a.createElement("button",{type:"submit"},"Create Game"))}function Q(){var e=Object(d.c)(U.c);return l.a.createElement("div",null,"Unkown View",l.a.createElement("br",null),"Please check that you have configured correctly view in the components/views/CurrentView.tsx component.",l.a.createElement("pre",null,JSON.stringify(e)))}var Z={BoardView:function(){var e=Object(d.c)(f.listPlayers);return null===e?null:l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement(R,{name:"event"}),l.a.createElement(R,{name:"buy-field"}),l.a.createElement(R,{name:"buy-knight"}),l.a.createElement("hr",null),e.map((function(e){return l.a.createElement(_,{player:e,key:e})})))},EnterGameView:function(){return l.a.createElement(z,null)},MainView:function(){return l.a.createElement("div",null,"Main View")},NewGameView:function(){return l.a.createElement(K,null)},BlogView:function(){var e=Object(d.b)(),t=Object(d.c)(B.getPostList);return t?l.a.createElement("ul",null,t.map((function(t){return l.a.createElement("li",{key:t.id,onClick:function(){return n=t.id,e(Object(U.d)({root:"BlogPost",postId:n}));var n}},l.a.createElement("span",{role:"button"},t.title)," \xbb")}))):null},BlogPostView:function(){var e=Object(d.c)(B.getCurrentPost);return e?l.a.createElement("article",{className:Y},l.a.createElement(F.a,{source:e.body,escapeHtml:!1})):null}};function $(){var e=Object(d.c)((function(e){return Object(U.c)(e).root})),t=Z[e+"View"]||Q;return l.a.createElement(t,null)}var ee=n(20),te=n(10);function ne(){var e=Object(b.a)(["\n  background: white;\n  color: black;\n  padding: 0.5rem 1rem;\n  display: flex;\n  height: 2.5rem;\n\n  .title {\n    font-size: 2rem;\n  }\n\n  .space {\n    width: 2rem;\n  }\n\n  .fill {\n    flex: 1;\n  }\n\n  .rotate {\n    animation: rotate 1s infinite linear;\n    margin-top: 0.5rem;\n    font-size: 2rem;\n    line-height: 2rem;\n  }\n\n  button {\n    background: transparent;\n    cursor: pointer;\n    border: none;\n    padding: 0 0.67rem;\n  }\n  button:hover {\n    background: #ddd;\n  }\n\n  @keyframes rotate {\n    from {\n      transform: translate(0, -0.2rem) rotate(0deg);\n    }\n    to {\n      transform: translate(0, -0.2rem) rotate(360deg);\n    }\n  }\n"]);return ne=function(){return e},e}var re=Object(p.a)(ne()),ae=function(e){var t=e.children;return l.a.createElement("span",{className:"title"},t)},ue=function(){return l.a.createElement("div",{className:"space"})},ie=function(){return l.a.createElement("div",{className:"fill"})},ce=function(){return l.a.createElement("span",{className:"rotate","data-testid":"loading"},"\u07f7")};function oe(){var e=Object(d.b)(),t=Object(d.c)(ee.b),n=Object(d.c)(f.getGameRound),r=Object(d.c)(te.d);return l.a.createElement("header",{className:re},l.a.createElement(ae,null,"CardGame \ud83c\udc2a"),l.a.createElement(ue,null),l.a.createElement("button",{onClick:function(){return e(Object(U.d)({root:"NewGame"}))}},"New Game"),l.a.createElement("button",{onClick:function(){return e(Object(U.d)({root:"EnterGame"}))}},"Enter Game"),l.a.createElement("button",{onClick:function(){return e(Object(U.d)({root:"Blog"}))}},"Blog"),l.a.createElement(ue,null),t&&l.a.createElement("span",{"data-testid":"current-player-name"},t),n&&l.a.createElement("span",{"data-testid":"current-round"}," R:",n),l.a.createElement(ue,null),l.a.createElement("button",{onClick:function(){return e(Object(f.readyGame)())}},"Ready"),l.a.createElement("button",{onClick:function(){return e(Object(f.refreshGame)())}},"Refresh"),l.a.createElement(ie,null),r&&l.a.createElement(ce,null))}function se(){return l.a.createElement("div",null,l.a.createElement(oe,null),l.a.createElement($,null))}var le=n(12),de=n(8),fe=n(9);function be(e){e.configure(B.default),e.configure(m.default),e.configure(ee.a),e.configure(f.default),e.configure(te.b),e.configure(X.b),e.configure(h.default),e.configure(U.b),e.register(fe.a)}var pe=function(){function e(t){Object(u.a)(this,e),this.reduxStore=void 0,this.reduxStore=t.get(fe.a)}return Object(i.a)(e,[{key:"render",value:function(){var e=this.reduxStore.getStore();return l.a.createElement(d.a,{store:e},l.a.createElement("div",null,l.a.createElement(se,null)))}}]),e}();var me=(new c).configure((function(e){e.configure(be),e.register(o.a),e.register(pe)})).get(pe).render();a.a.render(me,document.getElementById("root"))}],[[88,1,2]]]);
//# sourceMappingURL=main.95bf1b27.chunk.js.map